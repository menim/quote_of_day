function init(t){function e(e){return t.getDateOfYear-e>e?t.getDateOfYear-2*e:t.getDateOfYear<=e?t.getDateOfYear:t.getDateOfYear-e}function n(n){var i=n.feed.entry,o=e(i.length-1);t.quote.innerHTML=t.hangingWords(i[o].gsx$qoute.$t),t.author.innerHTML=t.author2.innerHTML=i[o].gsx$author.$t,t.year.innerHTML=i[o].gsx$years.$t,t.description.innerHTML=t.hangingWords(i[o].gsx$authordescription.$t),t.cover.src="pictures/"+i[o].gsx$cover.$t,t.linkTo.href=i[o].gsx$linktolitress.$t}t.getJSON(t.spreadUrl,n)}function Swipe(t,e){"use strict";function n(){g=E.children,w=g.length,g.length<2&&(e.continuous=!1),v.transitions&&e.continuous&&g.length<3&&(E.appendChild(g[0].cloneNode(!0)),E.appendChild(E.children[1].cloneNode(!0)),g=E.children),m=new Array(g.length),p=t.getBoundingClientRect().width||t.offsetWidth,E.style.width=g.length*p+"px";for(var n=g.length;n--;){var i=g[n];i.style.width=p+"px",i.setAttribute("data-index",n),v.transitions&&(i.style.left=n*-p+"px",a(n,y>n?-p:y<n?p:0,0))}e.continuous&&v.transitions&&(a(r(y-1),-p,0),a(r(y+1),p,0)),v.transitions||(E.style.left=y*-p+"px"),t.style.visibility="visible"}function i(){e.continuous?s(y-1):y&&s(y-1)}function o(){e.continuous?s(y+1):y<g.length-1&&s(y+1)}function r(t){return(g.length+t%g.length)%g.length}function s(t,n){if(y!=t){if(v.transitions){var i=Math.abs(y-t)/(y-t);if(e.continuous){var o=i;(i=-m[r(t)]/p)!==o&&(t=-i*g.length+t)}for(var s=Math.abs(y-t)-1;s--;)a(r((t>y?t:y)-s-1),p*i,0);t=r(t),a(y,p*i,n||x),a(t,0,n||x),e.continuous&&a(r(t-i),-p*i,0)}else t=r(t),c(y*-p,t*-p,n||x);y=t,h(e.callback&&e.callback(y,g[y]))}}function a(t,e,n){u(t,e,n),m[t]=e}function u(t,e,n){var i=g[t],o=i&&i.style;o&&(o.webkitTransitionDuration=o.MozTransitionDuration=o.msTransitionDuration=o.OTransitionDuration=o.transitionDuration=n+"ms",o.webkitTransform="translate("+e+"px,0)translateZ(0)",o.msTransform=o.MozTransform=o.OTransform="translateX("+e+"px)")}function c(t,n,i){if(i)var o=+new Date,r=setInterval(function(){var s=+new Date-o;if(s>i)return E.style.left=n+"px",L&&d(),e.transitionEnd&&e.transitionEnd.call(event,y,g[y]),void clearInterval(r);E.style.left=(n-t)*(Math.floor(s/i*100)/100)+t+"px"},4);else E.style.left=n+"px"}function d(){T=setTimeout(o,L)}function l(){L=0,clearTimeout(T)}var f=function(){},h=function(t){setTimeout(t||f,0)},v={addEventListener:!!window.addEventListener,touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,transitions:function(t){var e=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var n in e)if(void 0!==t.style[e[n]])return!0;return!1}(document.createElement("swipe"))};if(t){var g,m,p,w,E=t.children[0];e=e||{};var y=parseInt(e.startSlide,10)||0,x=e.speed||300;e.continuous=void 0===e.continuous||e.continuous;var T,b,L=e.auto||0,k={},M={},D={handleEvent:function(t){switch(t.type){case"touchstart":this.start(t);break;case"touchmove":this.move(t);break;case"touchend":h(this.end(t));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":h(this.transitionEnd(t));break;case"resize":h(n)}e.stopPropagation&&t.stopPropagation()},start:function(t){var e=t.touches[0];k={x:e.pageX,y:e.pageY,time:+new Date},b=void 0,M={},E.addEventListener("touchmove",this,!1),E.addEventListener("touchend",this,!1)},move:function(t){if(!(t.touches.length>1||t.scale&&1!==t.scale)){e.disableScroll&&t.preventDefault();var n=t.touches[0];M={x:n.pageX-k.x,y:n.pageY-k.y},void 0===b&&(b=!!(b||Math.abs(M.x)<Math.abs(M.y))),b||(t.preventDefault(),l(),e.continuous?(u(r(y-1),M.x+m[r(y-1)],0),u(y,M.x+m[y],0),u(r(y+1),M.x+m[r(y+1)],0)):(M.x=M.x/(!y&&M.x>0||y==g.length-1&&M.x<0?Math.abs(M.x)/p+1:1),u(y-1,M.x+m[y-1],0),u(y,M.x+m[y],0),u(y+1,M.x+m[y+1],0)))}},end:function(t){var n=+new Date-k.time,i=Number(n)<250&&Math.abs(M.x)>20||Math.abs(M.x)>p/2,o=!y&&M.x>0||y==g.length-1&&M.x<0;e.continuous&&(o=!1);var s=M.x<0;b||(i&&!o?(s?(e.continuous?(a(r(y-1),-p,0),a(r(y+2),p,0)):a(y-1,-p,0),a(y,m[y]-p,x),a(r(y+1),m[r(y+1)]-p,x),y=r(y+1)):(e.continuous?(a(r(y+1),p,0),a(r(y-2),-p,0)):a(y+1,p,0),a(y,m[y]+p,x),a(r(y-1),m[r(y-1)]+p,x),y=r(y-1)),e.callback&&e.callback(y,g[y])):e.continuous?(a(r(y-1),-p,x),a(y,0,x),a(r(y+1),p,x)):(a(y-1,-p,x),a(y,0,x),a(y+1,p,x))),E.removeEventListener("touchmove",D,!1),E.removeEventListener("touchend",D,!1)},transitionEnd:function(t){parseInt(t.target.getAttribute("data-index"),10)==y&&(L&&d(),e.transitionEnd&&e.transitionEnd.call(t,y,g[y]))}};return n(),L&&d(),v.addEventListener?(v.touch&&E.addEventListener("touchstart",D,!1),v.transitions&&(E.addEventListener("webkitTransitionEnd",D,!1),E.addEventListener("msTransitionEnd",D,!1),E.addEventListener("oTransitionEnd",D,!1),E.addEventListener("otransitionend",D,!1),E.addEventListener("transitionend",D,!1)),window.addEventListener("resize",D,!1)):window.onresize=function(){n()},{setup:function(){n()},slide:function(t,e){l(),s(t,e)},prev:function(){l(),i()},next:function(){l(),o()},stop:function(){l()},getPos:function(){return y},getNumSlides:function(){return w},kill:function(){l(),E.style.width="",E.style.left="";for(var t=g.length;t--;){var e=g[t];e.style.width="",e.style.left="",v.transitions&&u(t,0,0)}v.addEventListener?(E.removeEventListener("touchstart",D,!1),E.removeEventListener("webkitTransitionEnd",D,!1),E.removeEventListener("msTransitionEnd",D,!1),E.removeEventListener("oTransitionEnd",D,!1),E.removeEventListener("otransitionend",D,!1),E.removeEventListener("transitionend",D,!1),window.removeEventListener("resize",D,!1)):window.onresize=null}}}}var mySwipe=Swipe(document.getElementById("slider"),{continuous:!1});document.getElementById("description-btn").onclick=mySwipe.prev,document.getElementById("quote-btn").onclick=mySwipe.next;var elements=function(){var t=document.getElementById("quote"),e=document.getElementsByClassName("author")[0],n=document.getElementsByClassName("author")[1],i=document.getElementById("year"),o=document.getElementById("description"),r=document.getElementById("url");return{quote:t,author:e,author2:n,year:i,description:o,cover:document.getElementById("book-img"),linkTo:r,spreadUrl:"https://spreadsheets.google.com/feeds/list/17T8jqTsiOdfGXKhAg21cpJAfV6zSHzuMF-nXbk0ltHs/od6/public/values?alt=json",getDateOfYear:function(){var t=new Date,e=t-new Date(t.getFullYear(),0,0);return Math.floor(e/864e5)}(),hangingWords:function(t){for(var e=t.split(" "),n=e.length,i=0;i<n;i++)e[i]+=e[i].length<=3?"&nbsp;":" ";return e.join("")},getJSON:function(t,e,n){var i="undefined"!=typeof XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");i.open("get",t,!0),i.onreadystatechange=function(){var t,o;4==i.readyState&&(200==(t=i.status)?(o=JSON.parse(i.responseText),e&&e(o)):n&&n(t))},i.send()}}}();init(elements),(window.jQuery||window.Zepto)&&function(t){t.fn.Swipe=function(e){return this.each(function(){t(this).data("Swipe",new Swipe(t(this)[0],e))})}}(window.jQuery||window.Zepto);